{"ast":null,"code":"import uuid from 'uuid/v1';\nimport { GET_TRANSACTIONS, ADD_TRANSACTION, DELETE_TRANSACTION, UPDATE_STATS, GET_STATS } from \"../actions/types\";\nconst initialState = {\n  transactions: [{\n    id: uuid(),\n    title: \"Sainsbury's\",\n    amount: -33.75,\n    date: Date.now()\n  }, {\n    id: uuid(),\n    title: \"Greggs\",\n    amount: -15.25,\n    date: Date.now()\n  }, {\n    id: uuid(),\n    title: \"Mission Burrito\",\n    amount: -7.23,\n    date: Date.now()\n  }, {\n    id: uuid(),\n    title: \"Fishies\",\n    amount: 100,\n    date: Date.now()\n  }],\n  debit: 0,\n  remainder: 0\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case GET_TRANSACTIONS:\n      return { ...state\n      };\n\n    case DELETE_TRANSACTION:\n      return { ...state,\n        transactions: state.transactions.filter(transaction => transaction.id !== action.payload)\n      };\n\n    case ADD_TRANSACTION:\n      return { ...state,\n        transactions: [action.payload, ...state.transactions]\n      };\n\n    case GET_STATS:\n      let totalDebit = 0;\n      state.transactions.map(({\n        amount\n      }) => {\n        totalDebit += parseFloat(amount);\n      });\n      totalDebit = totalDebit.toFixed(2);\n      state.remainder = totalDebit;\n      let moneySpent = 0;\n      state.transactions.map(({\n        amount\n      }) => {\n        if (amount < 0) {\n          moneySpent += amount;\n        }\n      });\n      moneySpent = moneySpent.toFixed(2);\n      state.debit = moneySpent;\n\n    case UPDATE_STATS:\n      state.remainder = parseFloat(state.remainder);\n\n      if (action.payload > 0) {\n        state.remainder += action.payload;\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/kavin11/mern-money/client/src/reducers/transactionReducer.js"],"names":["uuid","GET_TRANSACTIONS","ADD_TRANSACTION","DELETE_TRANSACTION","UPDATE_STATS","GET_STATS","initialState","transactions","id","title","amount","date","Date","now","debit","remainder","state","action","type","filter","transaction","payload","totalDebit","map","parseFloat","toFixed","moneySpent"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,SAAjB;AACA,SAASC,gBAAT,EAA2BC,eAA3B,EAA4CC,kBAA5C,EAAgEC,YAAhE,EAA8EC,SAA9E,QAA8F,kBAA9F;AAEA,MAAMC,YAAY,GAAE;AAChBC,EAAAA,YAAY,EAAE,CACV;AACIC,IAAAA,EAAE,EAAER,IAAI,EADZ;AAEIS,IAAAA,KAAK,EAAE,aAFX;AAGIC,IAAAA,MAAM,EAAE,CAAC,KAHb;AAIIC,IAAAA,IAAI,EAAEC,IAAI,CAACC,GAAL;AAJV,GADU,EAOV;AACIL,IAAAA,EAAE,EAAER,IAAI,EADZ;AAEIS,IAAAA,KAAK,EAAE,QAFX;AAGIC,IAAAA,MAAM,EAAE,CAAC,KAHb;AAIIC,IAAAA,IAAI,EAACC,IAAI,CAACC,GAAL;AAJT,GAPU,EAaV;AACIL,IAAAA,EAAE,EAAER,IAAI,EADZ;AAEIS,IAAAA,KAAK,EAAE,iBAFX;AAGIC,IAAAA,MAAM,EAAE,CAAC,IAHb;AAIIC,IAAAA,IAAI,EAACC,IAAI,CAACC,GAAL;AAJT,GAbU,EAmBV;AACIL,IAAAA,EAAE,EAAER,IAAI,EADZ;AAEIS,IAAAA,KAAK,EAAE,SAFX;AAGIC,IAAAA,MAAM,EAAE,GAHZ;AAIIC,IAAAA,IAAI,EAACC,IAAI,CAACC,GAAL;AAJT,GAnBU,CADE;AA2BhBC,EAAAA,KAAK,EAAC,CA3BU;AA4BhBC,EAAAA,SAAS,EAAE;AA5BK,CAApB;AA+BA,eAAe,UAASC,KAAK,GAACV,YAAf,EAA6BW,MAA7B,EAAoC;AAC/C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKjB,gBAAL;AACI,aAAM,EACF,GAAGe;AADD,OAAN;;AAGJ,SAAKb,kBAAL;AACI,aAAM,EACF,GAAGa,KADD;AAEFT,QAAAA,YAAY,EAAES,KAAK,CAACT,YAAN,CAAmBY,MAAnB,CAA0BC,WAAW,IAAIA,WAAW,CAACZ,EAAZ,KAAmBS,MAAM,CAACI,OAAnE;AAFZ,OAAN;;AAIJ,SAAKnB,eAAL;AACI,aAAM,EACF,GAAGc,KADD;AAEFT,QAAAA,YAAY,EAAE,CAACU,MAAM,CAACI,OAAR,EAAiB,GAAGL,KAAK,CAACT,YAA1B;AAFZ,OAAN;;AAIJ,SAAKF,SAAL;AACI,UAAIiB,UAAU,GAAC,CAAf;AACAN,MAAAA,KAAK,CAACT,YAAN,CAAmBgB,GAAnB,CAAuB,CAAC;AAACb,QAAAA;AAAD,OAAD,KAAc;AACjCY,QAAAA,UAAU,IAAEE,UAAU,CAACd,MAAD,CAAtB;AACH,OAFD;AAGAY,MAAAA,UAAU,GAACA,UAAU,CAACG,OAAX,CAAmB,CAAnB,CAAX;AACAT,MAAAA,KAAK,CAACD,SAAN,GAAgBO,UAAhB;AAEA,UAAII,UAAU,GAAC,CAAf;AACAV,MAAAA,KAAK,CAACT,YAAN,CAAmBgB,GAAnB,CAAuB,CAAC;AAACb,QAAAA;AAAD,OAAD,KAAc;AACjC,YAAIA,MAAM,GAAG,CAAb,EAAgB;AACZgB,UAAAA,UAAU,IAAEhB,MAAZ;AACH;AACJ,OAJD;AAKAgB,MAAAA,UAAU,GAACA,UAAU,CAACD,OAAX,CAAmB,CAAnB,CAAX;AACAT,MAAAA,KAAK,CAACF,KAAN,GAAYY,UAAZ;;AAEJ,SAAKtB,YAAL;AACIY,MAAAA,KAAK,CAACD,SAAN,GAAgBS,UAAU,CAACR,KAAK,CAACD,SAAP,CAA1B;;AACA,UAAIE,MAAM,CAACI,OAAP,GAAe,CAAnB,EAAqB;AACjBL,QAAAA,KAAK,CAACD,SAAN,IAAmBE,MAAM,CAACI,OAA1B;AACH;;AAGL;AACI,aAAOL,KAAP;AAxCR;AA0CH","sourcesContent":["import uuid from 'uuid/v1'\nimport { GET_TRANSACTIONS, ADD_TRANSACTION, DELETE_TRANSACTION, UPDATE_STATS, GET_STATS} from \"../actions/types\"\n\nconst initialState ={\n    transactions: [\n        {\n            id: uuid(),\n            title: \"Sainsbury's\",\n            amount: -33.75,\n            date: Date.now()\n        },\n        {\n            id: uuid(),\n            title: \"Greggs\",\n            amount: -15.25,\n            date:Date.now()\n        },\n        {\n            id: uuid(),\n            title: \"Mission Burrito\",\n            amount: -7.23,\n            date:Date.now()\n        },\n        {\n            id: uuid(),\n            title: \"Fishies\",\n            amount: 100,\n            date:Date.now()\n        },\n    ],\n    debit:0,\n    remainder: 0\n}\n\nexport default function(state=initialState, action){\n    switch(action.type){\n        case GET_TRANSACTIONS:\n            return{\n                ...state\n            }\n        case DELETE_TRANSACTION:\n            return{\n                ...state,\n                transactions: state.transactions.filter(transaction => transaction.id !== action.payload)\n            }\n        case ADD_TRANSACTION:\n            return{\n                ...state,\n                transactions: [action.payload, ...state.transactions]\n            }\n        case GET_STATS:\n            let totalDebit=0;\n            state.transactions.map(({amount}) => {\n                totalDebit+=parseFloat(amount)\n            });\n            totalDebit=totalDebit.toFixed(2);\n            state.remainder=totalDebit;\n\n            let moneySpent=0;\n            state.transactions.map(({amount}) => {\n                if (amount < 0 ){\n                    moneySpent+=amount\n                }\n            });\n            moneySpent=moneySpent.toFixed(2)\n            state.debit=moneySpent\n        \n        case UPDATE_STATS:\n            state.remainder=parseFloat(state.remainder)\n            if (action.payload>0){\n                state.remainder += action.payload\n            }\n            \n            \n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}